<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <link rel="stylesheet" href="./styles.css?v=111" />
  <title>FieldLog Mini v3.8</title>
  <style>
    /* ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æ¨ªã«ä¸¦ã¹ã‚‹ãŸã‚ã®èª¿æ•´ */
    .photo-flex { display: flex; gap: 10px; align-items: center; margin-bottom: 15px; }
    #previewContainer { flex: 1; margin-bottom: 0 !important; }
    #imgPreview { max-height: 100px; width: auto; }
    /* CSVã‚¨ãƒªã‚¢ã®è¦–èªæ€§å‘ä¸Š */
    .settings-card { background: #002244; border-color: #004488; }
    summary { font-weight: bold; color: #fff; cursor: pointer; }
  </style>
</head>
<body>
  <main class="container">
    <details class="card settings-card">
      <summary>âš™ï¸ CSVèª­ã¿è¾¼ã¿ (åœ°ç‚¹,å°åŒºåˆ†,é …ç›®)</summary>
      <input id="listCsvInput" type="file" accept=".csv" style="margin-top:10px; background:#fff; color:#000;" />
    </details>

    <section class="card">
      <div class="action-grid">
        <label class="btn-main photo-btn">
          <input id="photoInput" type="file" accept="image/*" capture="environment" style="display:none;">
          <span class="icon">ğŸ“·</span>
          <span class="label">å†™çœŸ <span id="photoCheck"></span></span>
        </label>
        <button id="btnGeo" class="btn-main geo-btn" type="button">
          <span class="icon">ğŸ“</span>
          <span class="label">ä½ç½®ãƒ»æ–¹ä½ç¢ºå®š <span id="geoCheck"></span></span>
        </button>
      </div>

      <div class="photo-flex">
        <div id="previewContainer" style="display:none; text-align:center;">
          <img id="imgPreview">
        </div>
      </div>

      <div class="geo-info">
        <div style="color: #ffff00; font-size: 11px; margin-bottom: 5px; border-bottom: 1px solid #333;">
          [LIVE] æ–¹ä½: <span id="liveHeading">-</span> / GPS: <span id="liveGPS">-</span>
        </div>
        ç¢ºå®šç·¯åº¦: <span id="lat">-</span> / ç¢ºå®šçµŒåº¦: <span id="lng">-</span><br>
        ç¢ºå®šæ–¹ä½: <span id="heading">-</span>
      </div>

      <select id="selLocation" class="input-field"><option value="">åœ°ç‚¹ã‚’é¸æŠ</option></select>
      <select id="selSubLocation" class="input-field"><option value="">å°åŒºåˆ†ã‚’é¸æŠ</option></select>
      <select id="selItem" class="input-field"><option value="">é …ç›®ã‚’é¸æŠ</option></select>
      <textarea id="memo" class="input-field memo-area" placeholder="å‚™è€ƒ"></textarea>
      
      <button id="btnSave" class="btn-save" type="button">ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜</button>
    </section>

    <section class="card history-card">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
        <h2 style="font-size:14px; margin:0;">ğŸ“Š ä¿å­˜å±¥æ­´</h2>
        <div style="display:flex; gap:8px;">
            <button id="btnDownloadAll" class="btn-blue" style="padding:5px 10px; font-size:12px; border-radius:5px;">ğŸ“¦ ä¸€æ‹¬DL</button>
            <button id="btnDeleteAll" style="padding:5px 10px; font-size:12px; border-radius:5px; background:#660000; color:white; border:none; cursor:pointer;">âš ï¸ å…¨å‰Šé™¤</button>
        </div>
      </div>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th style="width:30%;">åœ°ç‚¹</th>
              <th style="width:25%;">å°åŒºåˆ†</th>
              <th style="width:25%;">é …ç›®</th>
              <th style="width:10%;">å†™</th>
              <th style="width:10%;">G</th>
            </tr>
          </thead>
          <tbody id="list"></tbody>
        </table>
      </div>
    </section>
  </main>
  <script src="../jszip.min.js"></script>
  <script src="./app.js?v=111"></script>
</body>
</html>
