<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <link rel="stylesheet" href="./styles.css?v=112" />
  <title>FieldLog v3.8 Final</title>
  <style>
    /* ç¾å ´ä»•æ§˜ã®ãƒ‡ã‚«ãƒœã‚¿ãƒ³ã¨è¦–èªæ€§ */
    .photo-btn { background: #00bb55 !important; height: 100px !important; }
    .geo-btn { background: #007bff !important; height: 85px !important; }
    .btn-save { background: #dc3545 !important; height: 90px !important; font-size: 24px !important; }
    .btn-main { width: 100%; border-radius: 12px; border: none; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; margin-bottom: 12px; }
    .geo-info-box { background: #000; color: #00ff00; padding: 15px; border-radius: 8px; font-family: monospace; line-height: 1.8; border: 1px solid #333; margin-bottom: 15px; }
    .label-red { color: #ff4444; font-weight: bold; }
    .input-field { height: 55px; font-size: 16px; margin-bottom: 10px; }
  </style>
</head>
<body style="background:#000; color:#fff; padding:10px;">
  <main class="container" style="max-width:500px; margin:0 auto;">
    
    <details class="card" style="background:#111; border:1px solid #333; padding:10px; border-radius:10px; margin-bottom:15px;">
      <summary style="cursor:pointer;">âš™ï¸ CSVèª­ã¿è¾¼ã¿ (åœ°ç‚¹,å°åŒºåˆ†,é …ç›®)</summary>
      <input id="listCsvInput" type="file" accept=".csv" style="margin-top:10px; background:#fff; color:#000; width:100%;" />
    </details>

    <section class="card" style="background:#111; border:1px solid #333; padding:15px; border-radius:12px;">
      <label class="btn-main photo-btn">
        <input id="photoInput" type="file" accept="image/*" capture="environment" style="display:none;">
        <span style="font-size:35px; margin-right:15px;">ğŸ“·</span>
        <span style="font-size:20px; font-weight:bold;">å†™çœŸã‚’æ’®ã‚‹ <span id="photoCheck"></span></span>
      </label>

      <button id="btnGeo" class="btn-main geo-btn" type="button">
        <span style="font-size:30px; margin-right:15px;">ğŸ“</span>
        <span style="font-size:18px; font-weight:bold;">ä½ç½®ãƒ»æ–¹ä½ã‚’è¨˜éŒ² <span id="geoCheck"></span></span>
      </button>

      <div id="previewContainer" style="text-align:center; display:none; margin-bottom:15px;">
        <img id="imgPreview" style="max-width:100%; border-radius:8px; border:1px solid #444;">
      </div>

      <div class="geo-info-box">
        <div style="color: #ffff00; font-size: 11px; margin-bottom: 8px;">[ LIVE: <span id="liveGPS">å–å¾—ä¸­</span> / <span id="liveHeading">-</span> ]</div>
        ç·¯åº¦ï¼ˆè¨˜éŒ²ï¼‰: <span id="lat" style="font-size: 18px;">-</span><br>
        çµŒåº¦ï¼ˆè¨˜éŒ²ï¼‰: <span id="lng" style="font-size: 18px;">-</span><br>
        æ–¹ä½ï¼ˆè¨˜éŒ²ï¼‰: <span id="heading" style="font-size: 18px;">-</span>
      </div>

      <select id="selLocation" class="input-field" style="width:100%;"></select>
      <select id="selSubLocation" class="input-field" style="width:100%;"></select>
      <select id="selItem" class="input-field" style="width:100%;"></select>
      <textarea id="memo" class="input-field" style="width:100%; height:80px;" placeholder="å‚™è€ƒ"></textarea>
      
      <button id="btnSave" class="btn-save btn-main" type="button">ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜</button>
    </section>

    <section class="card" style="background:#111; border:1px solid #333; padding:15px; border-radius:12px; margin-top:15px;">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
        <h2 style="font-size:16px; margin:0;">ğŸ“Š ä¿å­˜å±¥æ­´</h2>
        <div style="display:flex; gap:8px;">
          <button id="btnDownloadAll" style="background:#007bff; color:white; border:none; padding:8px 15px; border-radius:5px; font-weight:bold;">ğŸ“¦ ä¸€æ‹¬DL</button>
          <button id="btnDeleteAll" style="background:#660000; color:white; border:none; padding:8px 15px; border-radius:5px;">âš ï¸ å…¨å‰Šé™¤</button>
        </div>
      </div>
      <div style="overflow-x:auto;">
        <table style="width:100%; font-size:12px; border-collapse:collapse;">
          <thead style="background:#333;">
            <tr><th>åœ°ç‚¹</th><th>åŒºåˆ†</th><th>å†™</th><th>G</th></tr>
          </thead>
          <tbody id="list" style="text-align:center;"></tbody>
        </table>
      </div>
    </section>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="./app.js?v=112"></script>
</body>
</html>
