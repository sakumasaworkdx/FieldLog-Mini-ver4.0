<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Offline Survey v2.0 Professional</title>
  <style>
    body { font-family: sans-serif; background: #e9ecef; margin: 0; padding: 10px; }
    .card { background: #fff; border-radius: 12px; padding: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.15); margin-bottom:15px; }
    /* CSVèª­è¾¼ï¼šæ¿ƒã„é’ã«ç™½æ–‡å­—ï¼ˆè¦–èªæ€§é‡è¦–ï¼‰ */
    .config-panel { background: #0d47a1; color: #fff; padding: 12px; border-radius: 8px; margin-bottom: 15px; }
    /* ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºï¼šé»’ã«ç·‘ï¼ˆå¸¸ã«å‹•ãï¼‰ */
    .live-display { background: #000; color: #0f0; padding: 12px; border-radius: 8px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-family: monospace; border: 2px solid #444; }
    .val-large { font-size: 24px; font-weight: bold; }
    .btn { display: block; width: 100%; padding: 15px; border: none; border-radius: 8px; font-weight: bold; font-size: 16px; cursor: pointer; margin-top: 10px; }
    .btn-fix { background: #28a745; color: #fff; }
    .btn-save { background: #ff9800; color: #fff; font-size: 20px; }
    /* å†™çœŸãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼šé©æ­£ã‚µã‚¤ã‚ºæ¨ªä¸¦ã³ */
    .photo-row { display: flex; gap: 10px; align-items: center; background: #f1f3f5; padding: 10px; border-radius: 8px; margin: 10px 0; }
    #preview { width: 120px; height: 90px; object-fit: contain; border: 1px solid #adb5bd; background: #fff; display: none; }
    .field { width: 100%; padding: 12px; margin: 5px 0; border: 1px solid #ccc; border-radius: 6px; font-size: 16px; box-sizing: border-box; }
  </style>
</head>
<body>

<div class="card">
  <div class="config-panel">
    <strong style="font-size:14px;">ğŸ“„ åœ°ç‚¹/é …ç›®ãƒªã‚¹ãƒˆèª­è¾¼(CSV)</strong>
    <input type="file" id="csvIn" accept=".csv" style="width:100%; margin-top:8px; background:#fff;">
    <div id="csvSt" style="font-size:12px; color:#ffeb3b; margin-top:5px; font-weight:bold;">æœªèª­è¾¼</div>
  </div>

  <div class="live-display">
    <div style="text-align:center;">
      æ–¹ä½<br><span id="h_live" class="val-large">-</span>Â°<br><span id="d_live" style="color:#fff;">-</span>
    </div>
    <div style="font-size:12px;">
      ç²¾åº¦: <span id="a_live">-</span>m<br>
      ç·¯åº¦: <span id="la_live">-</span><br>
      çµŒåº¦: <span id="lo_live">-</span>
    </div>
  </div>
  
  <button id="btnFix" class="btn btn-fix">ğŸ“ ã“ã®ä½ç½®ãƒ»æ–¹ä½ã§ç¢ºå®š</button>

  <div id="fixedDisplay" style="font-size:11px; color:#d32f2f; margin-top:5px; font-weight:bold;">
    ç¢ºå®šå€¤: <span id="la_val">-</span>, <span id="lo_val">-</span> (<span id="h_val">-</span>Â°)
  </div>

  <div class="photo-row">
    <label style="flex:1; background:#007bff; color:#fff; padding:20px 10px; border-radius:8px; text-align:center; font-weight:bold; cursor:pointer;">
      ğŸ“· å†™çœŸæ’®å½±
      <input type="file" id="pIn" accept="image/*" capture="environment" style="display:none;">
    </label>
    <img id="preview">
    <div id="noPhoto" style="width:120px; text-align:center; font-size:11px; color:#999;">æœªæ’®å½±</div>
  </div>
  
  <div id="info" style="font-size:10px; color:#666; margin-bottom:10px;">ãƒ•ã‚¡ã‚¤ãƒ«å: - / æ™‚åˆ»: -</div>

  <select id="s1" class="field"><option value="">åœ°ç‚¹ã‚’é¸æŠ(CSVã‚’èª­è¾¼)</option></select>
  <select id="s2" class="field"></select>
  <select id="s3" class="field"></select>
  <textarea id="m1" class="field" placeholder="å‚™è€ƒ"></textarea>
  <textarea id="m2" class="field" placeholder="å‚™è€ƒ2"></textarea>
  
  <button id="btnSave" class="btn btn-save">ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜</button>
</div>

<div class="card">
  <strong>ğŸ“Š å±¥æ­´ (<span id="count">0</span>ä»¶)</strong>
  <div id="list" style="margin-top:10px; border-top:1px solid #eee; max-height:200px; overflow-y:auto;"></div>
  <button id="btnExport" style="margin-top:10px; width:100%; padding:10px; background:#17a2b8; color:#fff; border:none; border-radius:5px;">ğŸ“¦ ZIPå‡ºåŠ›</button>
</div>

<script src="./app.js"></script>
</body>
</html>
